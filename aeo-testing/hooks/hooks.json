{
  "description": "Quality gates for pre-commit and code validation hooks",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "black --check .",
            "timeout": 30000
          },
          {
            "type": "command",
            "command": "isort --check-only .",
            "timeout": 30000
          },
          {
            "type": "command",
            "command": "flake8 . --max-line-length=88",
            "timeout": 30000
          },
          {
            "type": "command",
            "command": "mypy . --ignore-missing-imports",
            "timeout": 60000
          },
          {
            "type": "command",
            "command": "pytest tests/ --quiet",
            "timeout": 120000
          },
          {
            "type": "command",
            "command": "pytest --cov=. --cov-report=term-missing --cov-fail-under=80",
            "timeout": 120000
          },
          {
            "type": "command",
            "command": "echo 'Command review: ${command}' | tee -a .claude/command-log.txt",
            "timeout": 5000
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "test -f ${file_path} && echo 'Overwriting existing file: ${file_path}'",
            "timeout": 5000
          }
        ]
      }
    ]
  }
}
