{
  "description": "Team alerting and notification system hooks",
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "git log -1 --pretty=format:'%h - %s' | xargs -I {} curl -X POST ${SLACK_WEBHOOK} -H 'Content-Type: application/json' -d '{\"text\":\"New commit: {}\", \"channel\":\"#commits\"}'",
            "timeout": 10000
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "test '${command}' = 'rm -rf' && curl -X POST ${SLACK_WEBHOOK} -H 'Content-Type: application/json' -d '{\"text\":\"Dangerous command attempted: ${command}\", \"channel\":\"#security\"}'",
            "timeout": 10000
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "echo '{\"session_id\":\"${SESSION_ID}\",\"duration\":\"${DURATION}\",\"changes\":\"${CHANGES}\"}' | curl -X POST ${ANALYTICS_WEBHOOK} -H 'Content-Type: application/json' -d @-",
            "timeout": 10000
          }
        ]
      }
    ]
  }
}
